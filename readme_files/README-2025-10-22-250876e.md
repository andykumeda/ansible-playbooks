# Ansible for Network Infrastructure

This repository contains Ansible playbooks for managing our network infrastructure.

## Inventory

The `hosts` file defines all the devices under management. It is organized into groups by location and function.

### Running Playbooks

To run a playbook, use the `ansible-playbook` command and specify the playbook file. By default, it will run against all hosts in the `hosts` file.

```bash
ansible-playbook playbooks/site.yml
```

### Limiting by Location

You can limit a playbook run to a specific location using the `-l` flag with the location name.

```bash
ansible-playbook playbooks/site.yml -l vdm
```

This will run the playbook only on the devices in the `vdm` location.

### Limiting by Function

You can also limit a playbook run to a specific function, like `switches` or `routers`.

```bash
ansible-playbook playbooks/site.yml -l switches
```

This will run the playbook only on the devices in the `switches` group.

### Combining Limits

You can combine location and function limits by using an intersection (`&`).

```bash
ansible-playbook playbooks/site.yml -l "vdm&switches"
```

This will run the playbook only on the switches in the `vdm` location.

### Advanced Limiting

Ansible supports more advanced limiting patterns, including unions (`:`), and exclusions (`!`).

### Available Locations and Functions

**Locations:**

*   `2e39`
*   `hrw`
*   `lab`
*   `mpoe`
*   `vdm`

**Functions:**

*   `switches`
*   `routers`
*   `core`